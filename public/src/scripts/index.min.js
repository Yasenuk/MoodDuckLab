// @ts-nocheck
import*as functions from"./functions/functions.min.js";import{_Module}from"./module.min.js";functions.isWebp(),functions.isPageLoad(),_Module.burger_menu.init(),_Module.watcher.init(),_Module.popup.init(),_Module.light.init();const cube=document.getElementById("cube");if(cube){const e=cube.children;for(const t of e)t.addEventListener("click",(e=>{cube.classList.contains("animated")||(cube.classList.add("animated"),setTimeout((()=>{cube.classList.remove("animated")}),2500))}))}const buttons=document.querySelectorAll(".product-card__picture_buttons");buttons&&0!=buttons.length&&buttons.forEach((e=>{const t=e.parentElement,n=t.querySelector(".product-card__picture_info");e.addEventListener("click",(e=>{t.classList.toggle("_open")})),n.addEventListener("click",(e=>{t.classList.add("_open")})),t.addEventListener("mouseleave",(e=>{t.classList.remove("_open")}))}));const form=document.querySelector("#form-review");form.addEventListener("submit",(async e=>{e.preventDefault();const t=new FormData(form),n=Object.fromEntries(t.entries());if(!/^\+380\d{9}$/.test(n.phone))return alert("Номер телефону має містити 10 цифр");if(!n.message||n.message.length<5)return alert("Напишіть щось змістовне у відгуку");try{const e=await fetch("/send-review",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});(await e.json()).success&&window.location.reload()}catch(e){alert("Помилка зв’язку з сервером")}}));